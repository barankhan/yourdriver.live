<?php
/**
 * Created by PhpStorm.
 * User: baran
 * Date: 12/10/19
 * Time: 6:14 PM
 */
require_once __DIR__.'/vendor/autoload.php';

//$s = "Rs 5,100.00 have been deposited in your JazzCash Mobile Account from SADIQ ABAD. Pay only Rs 5,100.00 to Agent. Fee: Rs 0.00, Balance: Rs 5,100.00. TID: 007106280421.";
//$s_array = explode(" ",$s);
//echo str_replace(",",'',$s_array[1]) ;
//echo "<br/>";
//echo str_replace(".",'',$s_array[count($s_array)-1]);
//die;
//
//$res = preg_replace("/[^0-9.]/", "", $s);
//var_dump($res);



//echo $s = "Trx ID 5794455210. You have Received Rs. 200.00 from TMFB in your Easypaisa Account  Fee for this transaction is Rs. 0.00. Your new Easypaisa Account balance is Rs. 252.00";
//echo $s = "Trx ID 5943544618. You have successfully deposited Rs. 300.00 and your new easypaisa balance is 538.00. The fee for this transaction is Rs. 0.00.";
//echo $s= "Trx ID 5944229251. You have Received Rs 10.00 from BARAN with Easypaisa Account 923336126632 and your new Easypaisa account balance is Rs. 10.49.";
//echo "<br/>";
//$s = strtolower($s);
//echo $s = str_replace("rs ","rs. ",$s);
//
//$s_array = explode(" ",$s);
//echo "<br/>";
//echo str_replace(".","",$s_array[2]);
//echo "<br/>";
//
//$rs_array = explode("rs. ",$s);
//$rs_array = explode(" ",$rs_array[1]);
//
//echo str_replace(",",'',$rs_array[0]) ;



//$arr =  basePrice::getBasePrice("Auto","30.221891884597262","71.47176414728165");
//var_dump($arr);

//$fbaseLogObj  = new FirebaseLog();

//
//
//$fbaseObj = new firebaseNotification();
//
//$notification['title']='Ride Alert';
//$notification['body']='Passenger is waiting for you.';
//$notification['sound']="ride_alert.mp3";
//$notification['channel_id']="121212";
//$payload['do']="teasing";
//$payload['key']="teasing";
//$payload['msg']="You have a new ride";
//$payload['lat']="30.222079903772556";
//$payload['lng']="71.47192474454641";
//$payload['phone']="ride_alert";
//$payload['ride_id']="39";
//$notification['click_action']='com.barankhan.driver.ride_alert_activity';
//
//
//
//
//$payload['key']="call_alert";
//$payload['message']="Calling....";
//$payload['agora_channel']="30.222079903772556";
//
//
//
////$fbaseLogObj->setNotification(json_encode($notification));
////$fbaseLogObj->setPayload(json_encode($payload));
//
//
//
//$token_ = "cS5xp-yVVDg:APA91bFX7Mxh6fr_oPf-tf6PFry6Uaac2uvw1skWahSQhVFLq2hzaLOefycesjxmjeWo2SLJ--O9AK7VT7KqjeHk_gieDMvZMaBT1B3VsxRQtI-uulbkVADkuB_ouecI94bAfmcF-Pd0";
//$token="ecBOb_Cj7P8:APA91bEVQEI1iXNesk3X6xU6_qT_l7uy6lK_pNhJs9S_u3TKuaNjdxU0Btte6nS6E_LG6Jv__ZtM5MZpZC94LDJ5Sfb0Q8ZQeFFGY-ewMOx3aqmgiaDU-_XuGUJK70ZDvyoDPkvh0XF-";
//$token_ = "cS5xp-yVVDg:APA91bFX7Mxh6fr_oPf-tf6PFry6Uaac2uvw1skWahSQhVFLq2hzaLOefycesjxmjeWo2SLJ--O9AK7VT7KqjeHk_gieDMvZMaBT1B3VsxRQtI-uulbkVADkuB_ouecI94bAfmcF-Pd0";
//$token_ = "fDqB3wnA1F8:APA91bGmzxjORhVk8tZdF0f0o7tXq_GK1FlFlRSaPaQvZXqZax-rTKZha9KWwgWEJuPxph79BSZP74leD9E_Mi-P-WBVuWvNQ2_7OeSSoCZ_EhC_lPu1xSdNQdmF5MGlBH2JNagJ8dXP";
//$token_ = "ecBOb_Cj7P8:APA91bEVQEI1iXNesk3X6xU6_qT_l7uy6lK_pNhJs9S_u3TKuaNjdxU0Btte6nS6E_LG6Jv__ZtM5MZpZC94LDJ5Sfb0Q8ZQeFFGY-ewMOx3aqmgiaDU-_XuGUJK70ZDvyoDPkvh0XF-";
//$token = "esk94lIo4Gc:APA91bHfHchHIv492-4hczbhVohIqLpgmNWT5GuQEasdmS3dnhuaXOR3hVe-5JIk0FAsDyl0oD8qX_ydEfJxc2gMgRaFtXhcJf9Xv2ZpF2rexPe8mLwtsyRapGglLaza8kyX2bZukaE-";
//$token = "c41h51hlpJc:APA91bGxeDW7vG7weanXEHYfS1rbUKHAi3nrxeqIw8w1x5NDTW3hAFFsyxD03w3wRn6tl39S47MbCO6xQXZqaBuDLEtlDwWafSAkSMj8GQoQsi9lQqeIkftpMVuj1ovijC3ZfO9_oSrH";
////$fbaseLogObj->setFirebaseKey($token);
////$fbaseLogObj->insert();
//
//
//
//
//$fabseRes = $fbaseObj->sendPayloadOnly(1,$token,$payload,null,'high');
//
//
//var_dump($fabseRes);
//echo "<hr/>";
//echo $res_obj->results[0]->message_id;

//$origin      = "30.229245802754388,71.47884551435709";
//$destination = "30.198712654570752,71.46933004260063";
//$key = "AIzaSyCMeNFGFvsheMOXo7gcJMMiLStrKyHGAFI";
//$url = "https://maps.googleapis.com/maps/api/directions/json?origin=".urlencode($origin)."&destination=" . urlencode( $destination) . "&sensor=false&key=" . $key;
//$jsonfile = file_get_contents($url);
//$jsondata = json_decode($jsonfile);
//
//var_dump($jsondata->routes[0]->legs[0]->distance->value);
//var_dump($jsondata->routes[0]->legs[0]->duration->value);

//$str = html_entity_decode($str);

#$str = "+92 300 3223060, +92 300 5524618, +92 300 6321119, +92 300 6355680, +92 300 7310912, +92 300 7481283, +92 300 8355680, +92 301 4808637, +92 302 7337070, +92 302 7371177, +92 302 7498625, +92 302 7555181, +92 303 6745752, +92 303 8183997, +92 304 6168440, +92 304 7032621, +92 305 6064640, +92 305 7496714, +92 305 7900610, +92 306 7400649, +92 307 6767206, +92 307 7409900, +92 309 6371809, +92 310 6206379, +92 311 6912921, +92 312 5987008, +92 313 6367009, +92 313 6370425, +92 313 6537750, +92 313 6782633, +92 313 7771126, +92 314 3569198, +92 315 3287333, +92 315 6020911, +92 317 6653049, +92 321 6335285, +92 333 6156819, +92 333 7641340, +92 336 7954102, +92 345 1633553, +92 345 4451911, +92 345 7619627, +92 348 5776163";
$str = "03000321707,03000376120,03000711709,03000730109,03000738019,03002561688,03002864149,03003052503,03004480749,03004633786,03006300405,03006301639,03006321340,03006359042,03006360490,03006363365,03006363689,03006375162,03006380507,03006653287,03006793011,03006812144,03006848189,03006955255,03007205354,03007216332,03007302314,03007330201,03007356018,03007382593,03007890108,03008732202,03009262347,03009631333,03009632917,03009633673,03009633740,03009688938,03014444307,03016117822,03017209478,03017405330,03017414756,03017506372,03017755252,03018244448,03022037916,03027270609,03027310747,03027393939,03027434232,03027739640,03035115233,03035220022,03036439255,03036717131,03036768008,03037336370,03037962626,03043009394,03045121432,03046756772,03047603998,03055361929,03058042547,03061075179,03061738655,03064007291,03065312947,03066314437,03066697763,03074848005,03077149140,03077465008,03080175179,03080444004,03087593674,03088062698,03094901966,03106478214,03106637767,03110435050,03110720779,03116734639,03117364252,03118621787,03124207810,03124322110,03124600578,03125384600,03125887733,03126001767,03126652252,03127436600,03127700045,03127788996,03128342832,03134534696,03136294952,03136354860,03136725252,03136829600,03137334477,03137583369,03145453310,03146182000,03146264090,03146271184,03146782080,03150641199,03154392208,03156665537,03156884026,03164039979,03164062430,03166214405,03166255320,03166497878,03168569735,03173045837,03176255005,03207868687,03207892222,03216393952,03217389636,03224300437,03224482558,03226111866,03226142820,03227302447,03326027647,03332646875,03336066404,03336100511,03337641676,03338108887,03349633335,03356261219,03360732528,03366101892,03367714930,03417669241,03425789428,03437300732,03442928117,03453355857,03453411881,03467005210,03469631515,03482612281";
$str =  str_replace("+92 ","0",$str);
$str =  str_replace(" ","",$str);

$list_items = explode(",",$str);
foreach ($list_items as $item){
    echo "INSERT INTO `driver`.`list` ( `mobile`,`hustel`) VALUES ('".$item."',1); <br/>";
}

